import{s as E,n as d}from"./router.92c95da0.js";const g=new Set,i=new WeakSet;let c,p,m=!1;function L(e){m||(m=!0,c??=e?.prefetchAll??!1,p??=e?.defaultStrategy??"hover",S(),T(),A())}function S(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,(e=>{s(e.target,"tap")&&f(e.target.href,{with:"fetch",ignoreSlowConnection:!0})}),{passive:!0})}function T(){let e;function t(t){const n=t.target.href;e&&clearTimeout(e),e=setTimeout((()=>{f(n,{with:"fetch"})}),80)}function n(){e&&(clearTimeout(e),e=0)}document.body.addEventListener("focusin",(e=>{s(e.target,"hover")&&t(e)}),{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),w((()=>{for(const e of document.getElementsByTagName("a"))i.has(e)||s(e,"hover")&&(i.add(e),e.addEventListener("mouseenter",t,{passive:!0}),e.addEventListener("mouseleave",n,{passive:!0}))}))}function A(){let e;w((()=>{for(const t of document.getElementsByTagName("a"))i.has(t)||s(t,"viewport")&&(i.add(t),e??=k(),e.observe(t))}))}function k(){const e=new WeakMap;return new IntersectionObserver(((t,n)=>{for(const o of t){const t=o.target,a=e.get(t);o.isIntersecting?(a&&clearTimeout(a),e.set(t,setTimeout((()=>{n.unobserve(t),e.delete(t),f(t.href,{with:"link"})}),300))):a&&(clearTimeout(a),e.delete(t))}}))}function f(e,t){if(H(e,t?.ignoreSlowConnection??!1))if(g.add(e),"link"===(t?.with??"link")){const t=document.createElement("link");t.rel="prefetch",t.setAttribute("href",e),document.head.append(t)}else fetch(e).catch((t=>{console.log(`[astro] Failed to prefetch ${e}`),console.error(t)}))}function H(e,t){if(!navigator.onLine||!t&&v())return!1;try{const t=new URL(e,location.href);return location.origin===t.origin&&(location.pathname!==t.pathname||location.search!==t.search)&&!g.has(e)}catch{}return!1}function s(e,t){if("A"!==e?.tagName)return!1;const n=e.dataset.astroPrefetch;return"false"!==n&&(!("tap"!==t||null==n&&!c||!v())||(null==n&&c||""===n?t===p:n===t))}function v(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/(2|3)g/.test(e.effectiveType)}return!1}function w(e){e();let t=!1;document.addEventListener("astro:page-load",(()=>{t?e():t=!0}))}function M(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function h(e){return void 0!==e.dataset.astroReload}(E||"none"!==M())&&(document.addEventListener("click",(e=>{let t=e.target;if(t instanceof Element&&(t=t.closest("a, area")),!(t instanceof HTMLAnchorElement||t instanceof SVGAElement||t instanceof HTMLAreaElement))return;const n=t instanceof HTMLElement?t.target:t.target.baseVal,o=t instanceof HTMLElement?t.href:t.href.baseVal,a=new URL(o,location.href).origin;h(t)||t.hasAttribute("download")||!t.href||n&&"_self"!==n||a!==location.origin||0!==e.button||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||(e.preventDefault(),d(o,{history:"replace"===t.dataset.astroHistory?"replace":"auto",sourceElement:t}))})),document.querySelector('[name="astro-view-transitions-forms"]')&&document.addEventListener("submit",(e=>{let t=e.target;if("FORM"!==t.tagName||h(t))return;const n=t,o=e.submitter,a=new FormData(n);let r=o?.getAttribute("formaction")??n.action??location.pathname;const i=o?.getAttribute("formmethod")??n.method,c={sourceElement:o??n};if("get"===i){const e=new URLSearchParams(a),t=new URL(r);t.search=e.toString(),r=t.toString()}else c.formData=a;e.preventDefault(),d(r,c)})),L({prefetchAll:!0}));