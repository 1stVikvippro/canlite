<!doctype html>
<html lang="en">
<head>
    <title>nano.</title>
    <link rel="icon" href="/logo.svg">
    <meta charset="UTF-8" />
    <script id="aclib" type="text/javascript" src="../ads.js"></script>
    <script type="text/javascript" src="/partner.js"></script>
    <!--    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1655414789495559" crossorigin="anonymous"></script>-->
<!--    <script src="/b/index.js"></script>-->
    <script src="/uv/uv.bundle.js"></script>
    <script src="/uv/uv.config.js"></script>
    <script>
        window.onload = async function() {
            window.navigator.serviceWorker
                .register("/uv/sw.js", {
                    scope: __uv$config.prefix,
                })
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Construct the canonical URL dynamically
            const baseUrl = "https://canlite.org";
            const currentPath = window.location.pathname;
            const currentSearch = window.location.search;
            const canonicalUrl = baseUrl + currentPath + currentSearch;

            // Check if a canonical link already exists
            let link = document.querySelector("link[rel='canonical']");
            if (!link) {
                link = document.createElement("link");
                link.setAttribute("rel", "canonical");
                document.head.appendChild(link);
            }
            link.setAttribute("href", canonicalUrl);
        });
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Access CanLite for a secure, free web unbl0cker and an extensive collection of unbl0cked gam3s for school! Enjoy fast, anonymous access to popular games and websites, bipassing restrictions safely on any network." />
    <script defer data-domain="trueanalytics.online" src="https://trueanalytics.online/js/script.js"></script>
    <script src="../static/partner/index.js"></script>

</head>
<body>
    <div id="app"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script type="text/javascript">
        if(!window.location.hostname.includes(".org") || window.location.hostname !== "psybolt.com") {
            aclib.runAutoTag({zoneId: 'yhqj50takh'});
        }
        !Array.from(document.scripts).find(script => script.src.includes('uv.bundle.js')) && alert('Script not imported, proxy will not work. Please join the discord for other links.');
        if(localStorage.getItem('token')) {
            window.addEventListener("storage", () => {
                const localStorageData = { ...localStorage }; // Clone localStorage as an object
                delete localStorageData.token;
                let token = localStorage.getItem('token');
                fetch("https://" + window.location.hostname + `/api/saveGameData`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ token, localStorageData }),
                })
                    .then(response => response.json())
                    .then(data => console.log("LocalStorage data saved:", data))
                    .catch(error => console.error("Error saving localStorage data:", error));
            });
        }
    </script>
</body>
</html>
